# Тестоваое задание Форкитех

## Задание
Написать микросервис, который будет выводить информацию по адресу в сети трон, его bandwidth, energy, и баланс trx, ендпоинт должен принимать входные данные - адрес.

Каждый запрос писать в базу данных, с полями о том какой кошелек запрашивался.

Написать юнит/интеграционные тесты

У сервиса 2 ендпоинта
- POST
- GET для получения списка последних записей из БД, включая пагинацию,

2 теста
- интеграционный на ендпоинт
- юнит на запись в бд

## Замечания
Не совсем понятно было по тестам, задавал вопрос что означает "интеграционный на эндпоинт", если эндпоинта 2, получил ответ "делайте как лучше".

Ну, чтож, я сделал 2 юнита и 2 интеграционных.

## Запуск
Перед запуском необходимо настроить виртуальное окружение. В `app_service/config` создать копию `.env.example` с именем `.env`.

`DATABASE_URL` - url для доступа к базе данных. Тестовая бд использует этот же адрес, просто другой volume для данных - решил не городить миграцию внутри pytest

`TRON_API_KEY` - ключ для доступа к tron api

После этого для запуска можно использовать:
```
docker compose up
```

Для запуска тестов:
```
docker compose -f tests.docker-compose.yml up
```

### Swagger
```
0.0.0.0:8001/swagger
```

## Улучшения
- По хорошему сюда можно добавить Redis для кэширования частых запросов, но я этого не делаю потому что это выходит за рамки тз и требует дополнительного времени на разработку
- Nginx для балансировки нагрузки